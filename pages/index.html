<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Task Demonstration</title>
    <link href="askAI.css" rel="stylesheet" />
    <link href="boxOptions.css" rel="stylesheet" />
    <style>
      body {
        display: flex;
        justify-content: center;
        font-family: Arial, sans-serif !important;
        font-size: 1rem !important;
        line-height: normal !important;
        text-align: center;
        margin: 0;
        padding: 0;
        background-color: #cce7ff; /* Light blue background */
      }

      .container {
        display: flex;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }

      #gameContainer {
        display: flex;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }

      #left-panel,
      #center-panel,
      #right-panel {
        margin: 0.5rem;
        border: 0.0625rem solid #ccc;
        background: #f9f9f9;
        height: calc(100vh - 1rem);
        box-sizing: border-box;
        overflow: auto;
      }

      #left-panel {
        width: 18%;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }

      #center-panel {
        width: 50%;
        font-size: 80%;
        display: flex;
        flex-direction: column;
        position: relative;
        padding: 0 3.05rem;
        margin-left: auto;
      }

      #right-panel {
        width: 32%;
        display: flex;
        flex-direction: column;
        padding: 1.25rem;
        margin-right: auto;
      }

      .trialID-container {
        margin: 3%;
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.6;
      }

      .buttons-container {
        position: absolute;
        bottom: 5rem;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #reveal-sol-message {
        box-sizing: border-box;
        margin-top: 1.8rem;
        color: green;
        font-size: 1rem;
        font-weight: bold;
        display: flex;
      }

      #reset-btn {
        margin-right: auto;
        margin-left: 1rem;
      }

      .right-buttons {
        display: flex;
        gap: 1rem;
        margin: 0 auto 0 auto;
      }

      #reveal-sol-btn.disabled-visual {
        background-color: gray;
        cursor: not-allowed;
        pointer-events: auto;
        opacity: 0.6;
      }

      #reveal-sol-tooltip {
        position: absolute;
        background-color: #555555;
        color: white;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s;
      }

      #next-btn.disabled-visual {
        background-color: gray;
        cursor: not-allowed;
        pointer-events: auto;
        opacity: 0.6;
      }

      #next-tooltip {
        position: absolute;
        background-color: #555555;
        color: white;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .no-select {
        -webkit-user-select: none; /* Safari, iOS Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE/Edge (ÊóßÁâà) */
        user-select: none; /* Chrome, Edge.. */
      }

      button {
        padding: 0.625rem 1rem;
        font-size: 1rem;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 0.625rem;
        cursor: pointer;
        box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
      }

      button:disabled {
        background-color: gray;
        color: white;
        cursor: not-allowed;
        opacity: 0.6;
      }

      #time-box {
        font-size: 1.1rem;
        font-weight: bold;
        color: #333;
        margin: 2%;
        line-height: 1.6;
      }

      .info-container {
        flex: 1; /* Âç†ÊçÆÈô§ time-box ‰ª•Â§ñÁöÑÊâÄÊúâÁ©∫Èó¥ */
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .info-box {
        padding: 0 1rem 0.625rem 1rem;
        background-color: #fff;
        border: 0.125rem solid #171717;
        box-shadow: 0 0.125rem 0.3125rem rgba(0, 0, 0, 0.1);
        font-size: 1rem;
        font-weight: bold;
        text-align: left;
        line-height: 1.5;
        overflow: auto;
      }

      .info-box p {
        margin-top: -0.4rem;
      }

      .info-box ul {
        padding-left: 0.8rem;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div
      id="loading-overlay"
      style="
        position: fixed;
        inset: 0;
        background-color: rgba(255, 255, 255, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        font-weight: bold;
        z-index: 9999;
      "
    >
      Loading...
    </div>
    <div class="container">
      <div id="consentContainer"></div>

      <div id="instructionsContainer" style="display: none"></div>

      <div id="modalContainer" style="display: none"></div>

      <div id="gameContainer" style="display: none">
        <div id="left-panel">
          <div id="ai-chat">
            <div class="chat-bubble ai">
              <div class="avatar">ü§ñ</div>
              <div class="message"><strong>AI:</strong> How can I help?</div>
            </div>
          </div>
          <div class="askAI-container">
            <div class="askAI-inner">
              <button data-locked="false" id="askAI-btn">
                Reveal 1 object's location
              </button>
              <div id="askAI-remind">
                Each extra AI use cost <span id="askAI-cost">0.1</span> points.
              </div>
            </div>
            <div id="askAI-tooltip" style="display: none"></div>
          </div>
        </div>

        <div id="center-panel">
          <div class="trialID-container">
            <h3 id="trialID">Trial 1</h3>
          </div>
          <div class="drop-container">
            <div
              class="label-row-wrapper"
              style="position: relative; display: flex; justify-content: center"
            >
              <div class="label-container" id="label-container">
                <div class="label">1</div>
                <div class="label">2</div>
                <div class="label">3</div>
                <div class="label">4</div>
                <div class="label">5</div>
              </div>

              <div class="position-label no-select">position</div>
            </div>

            <div class="box-row" id="dropZone">
              <div class="box-container" id="box-container">
                <!-- <div class="box-placeholder"></div> -->
                <div class="box-group">
                  <div class="box"></div>
                  <div class="side-label-under no-select" id="front-side-label">
                    front
                  </div>
                </div>
                <div class="box-group">
                  <div class="box"></div>
                </div>
                <div class="box-group">
                  <div class="box"></div>
                </div>
                <div class="box-group">
                  <div class="box"></div>
                </div>
                <div class="box-group">
                  <div class="box"></div>

                  <div class="side-label-under no-select" id="end-side-label">end</div>
                </div>
              </div>
            </div>
          </div>

          <div class="solution-wrapper">
            <div id="solution-label">AI suggestion</div>

            <div id="solution-container">
              <div class="solution" id="solution-A">A</div>
              <div class="solution" id="solution-B">B</div>
              <div class="solution" id="solution-C">C</div>
              <div class="solution" id="solution-D">D</div>
              <div class="solution" id="solution-E">E</div>
            </div>
          </div>
          <div id="reveal-sol-message" style="display: none">
            Any object you placed correctly is highlighted in green.
          </div>

          <div id="option-container">
            <div class="option" draggable="true" id="A">A</div>
            <div class="option" draggable="true" id="B">B</div>
            <div class="option" draggable="true" id="C">C</div>
            <div class="option" draggable="true" id="D">D</div>
            <div class="option" draggable="true" id="E">E</div>
          </div>

          <div class="buttons-container">
            <button disabled id="reset-btn">RESET</button>
            <button disabled id="submit-btn">SUBMIT</button>
            <div class="right-buttons">
              <div style="position: relative">
                <button data-locked="false" id="reveal-sol-btn">
                  REVEAL<br />SOLUTION
                </button>
                <div id="reveal-sol-tooltip" style="display: none"></div>
              </div>
              <div style="position: relative">
                <button data-locked="false" id="next-btn">
                  NEXT<br />PROBLEM
                </button>
                <div id="next-tooltip" style="display: none"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="right-panel">
          <div id="time-box" style="display: none">
            <strong>TIME REMAINING:</strong> <span id="timer">08:00</span>
          </div>

          <div class="info-container">
            <div class="info-box no-select">
              <h3>Instructions</h3>
              <div id="instruction-text">
                <p>
                  Determine the correct object order using the given statements.
                  <br />
                  You have
                  <span id="submission-count" style="color: brown">2</span>
                  submission(s) remaining for this problem.
                </p>
              </div>
            </div>
            <div
              class="info-box no-select"
              id="statement-box"
              style="font-weight: normal;"
            >
              <h3>Statement</h3>
              <ul>
                <li>...</li>
                <li>...</li>
                <li>...</li>
              </ul>
            </div>
            <div class="info-box" id="result-box">
              <h3>Results</h3>
              <div id="submission-result-content" style="display: none">
                <div>
                  You got
                  <span id="correct-choice" style="color: green">0</span>
                  objects placed correctly.
                </div>
                <!-- <div>Score (0‚Äì100): <span id="score">--</span></div> -->
                <div id="additionalMessage" style="display: none"></div>
              </div>
              <div id="totalPassMessage">You have got 0 point(s) so far.</div>
              <div id="askAIMessage" style="display: none">
                You‚Äôll earn
                <span id="will-earn-points" style="color: blue">0</span>
                point(s) if you answer this problem correctly.
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="feedbackContainer" style="display: none"></div>
    </div>
  </body>
</html>
